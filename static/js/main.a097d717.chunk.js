(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{33:function(e,t,a){},34:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(26),r=a.n(c),o=(a(33),a(8)),i=a(1),A=a(27),l=a(10),d=a(11),h=a(4),u=a(14),p=a(13),v=(a(34),a(28)),b=a(12),g=a(0);var f=function(e){return Object(g.jsx)("div",{className:" ".concat(e.className," m-auto "),children:Object(g.jsx)("button",{onClick:e.onClick,type:e.type||"button",className:"appearance-none block \n\t  \t  ".concat(e.background," ").concat(e.textColor||"text-gray-100"," rounded-lg px-3   leading-tight h-8\n            focus:outline-none  hover:").concat(e.hover||"bg-gray-200"," transition-colors transition-duration-200 "),children:Object(g.jsx)(b.a,{icon:e.icon,style:{fontSize:"24px"}})})})};var j=function(e){return Object(g.jsxs)("div",{className:"m-auto ".concat(e.size," relative "),children:[Object(g.jsx)("span",{className:"text-gray-10 block",children:e.label}),Object(g.jsx)("input",{type:"checkbox",className:"opacity-0 absolute h-8 w-8 hover:cursor-pointer ",checked:e.value,name:e.name,onChange:e.checkboxChangeHandler}),Object(g.jsx)("div",{className:"w-8 h-8 bg-gray-100 text-purple-700  rounded-lg  shadow-inner flex ".concat(e.value?"border-purple-700 border-2":""),children:Object(g.jsx)(b.a,{className:"hidden fill-current m-auto ",icon:"carbon:checkmark",style:{fontSize:"30px"}})})]})};var k=function(e){return Object(g.jsx)("div",{className:" ".concat(e.size),children:Object(g.jsx)("input",{type:e.type||"text",value:e.value,onChange:function(t){return e.onChange(t)},name:e.name,autoFocus:!0,className:"appearance-none block w-full \r bg-gray-100 h-8 rounded-lg px-3 text-gray-10 shadow-inner leading-tight\r focus:outline-none focus:ring  ring-gray-400"})})},x=a(7);var P=function(e){var t=Object(n.useState)(!1),a=Object(v.a)(t,2),s=a[0],c=a[1];return Object(g.jsx)(x.Animate,{play:s,duration:.3,onComplete:e.checkboxChangeHandler,end:{opacity:0,transform:"translate(0,-2rem) scale(1)"},start:{opacity:1,transform:"translate(0,0)"},children:Object(g.jsxs)("div",{className:"mt-2 ".concat(e.size," relative p-2 flex space-x-2 w-full lg:max-w-md rounded-lg border-2 ").concat(e.completed?"border-purple-500":"border-purple-200"),children:[Object(g.jsx)(j,{value:e.completed!==s,checkboxChangeHandler:function(){return c(!s)}}),e.editable?Object(g.jsx)("div",{className:"w-full flex overflow-hidden p-1",children:Object(g.jsx)("form",{onSubmit:function(t){return e.saveTask(e.index,t)},className:"w-full",children:Object(g.jsx)(k,{name:"editedTaskDesc",onChange:function(t){return e.handleChange(t)},value:e.editedTaskDesc})})}):Object(g.jsx)("div",{className:"w-full flex overflow-hidden hover:cursor-pointer min-h-8 m-1",onClick:function(){return e.editTask(e.index)},children:Object(g.jsx)("span",{className:"m-auto ml-2",children:e.desc})}),Object(g.jsx)(f,{icon:"carbon:overflow-menu-vertical",background:"",textColor:"text-purple-700",onClick:e.toggleOptions}),Object(g.jsx)(x.Animate,{play:e.showOpt===e.index,duration:.1,end:{opacity:1},start:{opacity:0},children:Object(g.jsx)("div",{className:" ".concat(e.showOpt===e.index?"block":"hidden"," absolute -right-3 -top-8 rounded-lg border-2 border-gray-200 bg-gray-100 p-1"),children:e.editable?Object(g.jsxs)("div",{className:"flex space-x-1",children:[Object(g.jsx)(f,{onClick:function(){return e.removeTask(e.index)},icon:"carbon:delete",textColor:"text-red-500"}),Object(g.jsx)(f,{onClick:function(t){return e.saveTask(e.index,t)},icon:"carbon:save",textColor:"text-green-500"})]}):Object(g.jsxs)("div",{className:"flex space-x-1",children:[Object(g.jsx)(f,{onClick:function(){return e.removeTask(e.index)},icon:"carbon:delete",textColor:"text-red-500"}),Object(g.jsx)(f,{onClick:function(){return e.editTask(e.index)},icon:"carbon:edit",textColor:"text-blue-500"})]})})})]},e.index)})},O=a(5),m=a.n(O);m.a.defaults.timeout=4e3;var C="https://apyolt-api-todolist.herokuapp.com",X={Accept:"application/json","Content-Type":"application/json"},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("http://")||e.startsWith("https://")?e:"".concat(C,"/").concat(e)},w=function(e){return Object(i.a)(Object(i.a)({},X),e)},L={get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.a.get(W(e),{headers:w(t)})},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m.a.post(W(e),t,{headers:w(a)})},put:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m.a.put(W(e),t,{headers:w(a)})},patch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m.a.patch(W(e),t,{headers:w(a)})},delete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.a.delete(W(e),{headers:w(t)})}};var y=function(e){return Object(g.jsxs)("div",{className:"w-full bg-gray-100 shadow-md text-gray-10 h-14 fixed top-0 p-2 flex z-10",children:[Object(g.jsx)("img",{src:"data:image/png;base64,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",alt:"logo",className:"ml-5"}),Object(g.jsx)("span",{className:"m-auto ml-3 text-2xl font-tysla",children:e.title})]})};var D=function(e){return Object(g.jsxs)("div",{className:"pb-5",children:[Object(g.jsx)("span",{className:"text-2xl",children:e.title}),Object(g.jsx)("hr",{className:"bg-purple-200 h-0.5"})]})},T=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).addTask=n.addTask.bind(Object(h.a)(n)),n.removeTask=n.removeTask.bind(Object(h.a)(n)),n.editTask=n.editTask.bind(Object(h.a)(n)),n.saveTask=n.saveTask.bind(Object(h.a)(n)),n.checkboxChangeHandler=n.checkboxChangeHandler.bind(Object(h.a)(n)),n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.toggleOptions=n.toggleOptions.bind(Object(h.a)(n)),n.state={taskDesc:"",editedTaskDesc:"",error:"",editing:-1,showOpt:-1,tasks:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",(function(t){"Escape"===t.key&&e.setState({editing:-1,showOpt:-1})})),L.get("task").then((function(t){var a=t.data.data;e.setState({tasks:a.tasks})})).catch((function(t){e.changeErrorMessage(t)}))}},{key:"addTask",value:function(e){var t=this;e.preventDefault(),""!==this.state.taskDesc&&L.post("task",{description:this.state.taskDesc}).then((function(e){var a=[].concat(Object(A.a)(t.state.tasks),[e.data.data]);t.setState({tasks:a,taskDesc:"",error:""})})).catch((function(e){t.changeErrorMessage(e)}))}},{key:"removeTask",value:function(e){var t=this;L.delete("task/".concat(this.state.tasks[e]._id)).then((function(a){var n=t.state.tasks.filter((function(t,a){return e!==a}));t.setState({tasks:n,editing:-1,showOpt:-1,error:""})})).catch((function(e){t.changeErrorMessage(e)}))}},{key:"saveTask",value:function(e,t){var a=this;null===t||void 0===t||t.preventDefault();var n=Object(i.a)({},this.state.tasks[e]);n.description=this.state.editedTaskDesc,L.put("task/".concat(n._id),n).then((function(t){var n=a.state.tasks.map((function(a,n){return e===n?t.data.data:a}));a.setState({tasks:n,editing:-1,showOpt:-1,error:""})})).catch((function(e){a.changeErrorMessage(e)}))}},{key:"checkboxChangeHandler",value:function(e){var t=this,a=Object(i.a)({},this.state.tasks[e]);a.completed=!a.completed,L.put("task/".concat(a._id),a).then((function(a){var n=t.state.tasks.map((function(t,n){return e===n?a.data.data:t}));t.setState({tasks:n,editing:-1,error:""})})).catch((function(e){t.changeErrorMessage(e)}))}},{key:"editTask",value:function(e){var t=e===this.state.showOpt?e:-1;this.setState({editing:e,showOpt:t,editedTaskDesc:this.state.tasks[e].description})}},{key:"handleChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"toggleOptions",value:function(e){var t=e===this.state.showOpt?-1:e;this.setState({editing:-1,showOpt:t})}},{key:"changeErrorMessage",value:function(e){var t;switch(e.response?e.response.status:e.code){case 500:t="Database Error";break;case 401:t="Task Not Found";break;default:t="Cannot connect to server"}this.setState({error:t})}},{key:"renderSingleTask",value:function(e,t,a){var n=this;if(a!==e.completed)return"";var s={index:t,showOpt:this.state.showOpt,editedTaskDesc:this.state.editedTaskDesc,desc:e.description,completed:e.completed,editable:this.state.editing===t,removeTask:this.removeTask,editTask:this.editTask,handleChange:this.handleChange,toggleOptions:function(){return n.toggleOptions(t)},checkboxChangeHandler:function(){return n.checkboxChangeHandler(t)},saveTask:this.saveTask};return Object(g.jsx)(P,Object(i.a)({},s),t)}},{key:"renderTasks",value:function(){var e=this,t=this.state.tasks.filter((function(e){return!e.completed})).length;return Object(g.jsxs)("div",{className:"flex-col md:flex-row md:flex md:space-x-10",children:[Object(g.jsxs)("div",{className:"mb-5 md:w-1/2 ",children:[Object(g.jsx)(D,{title:"To do"}),t>0?this.state.tasks.map((function(t,a){return e.renderSingleTask(t,a,!1)})):Object(g.jsx)("span",{className:"text-purple-400",children:"You have finished all your tasks :)"})]}),Object(g.jsxs)("div",{className:"md:w-1/2",children:[Object(g.jsx)(D,{title:"Completed"}),this.state.tasks.map((function(t,a){return e.renderSingleTask(t,a,!0)}))]})]})}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{className:"bg-gray-70 h-full text-purple-900",children:[Object(g.jsx)(y,{title:"To do"}),Object(g.jsxs)("div",{className:"p-10 pt-20 h-full text-purple-900 sm:p-20 lg:pt-24",children:[Object(g.jsx)(D,{title:"Add Task"}),Object(g.jsxs)("form",{className:"flex space-x-5 pb-10",children:[Object(g.jsx)(k,{name:"taskDesc",onChange:function(t){return e.handleChange(t)},value:this.state.taskDesc,label:"Task"}),Object(g.jsx)(f,{type:"submit",onClick:function(t){return e.addTask(t)},icon:"carbon:add",background:"bg-purple-500",hover:"bg-purple-600"}),Object(g.jsx)("span",{className:"text-red-400",children:this.state.error})]}),Object(g.jsx)(x.Animate,{play:this.state.tasks,duration:.5,end:{opacity:1},start:{opacity:0},children:this.renderTasks()})]})]})}}]),a}(s.a.Component),S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,63)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(T,{})}),document.getElementById("root")),S()}},[[62,1,2]]]);
//# sourceMappingURL=main.a097d717.chunk.js.map